(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{gekI:function(n,l,t){"use strict";t.r(l);var a=t("CcnG"),e=function(){},u=t("pMnS"),i=t("Ip0R"),r=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),s=a.La({encapsulation:2,styles:[],data:{}});function o(n){return a.fb(0,[(n()(),a.Na(0,0,null,null,6,"div",[["class","tags has-addons"]],null,null,null,null,null)),(n()(),a.Na(1,0,null,null,1,"span",[["class","tag is-dark"]],null,null,null,null,null)),(n()(),a.db(2,null,["",""])),(n()(),a.Na(3,0,null,null,3,"span",[],null,null,null,null,null)),a.Ma(4,278528,null,0,i.j,[a.q,a.r,a.k,a.B],{ngClass:[0,"ngClass"]},null),a.Ya(5,2),(n()(),a.db(6,null,["",""]))],function(n,l){n(l,4,0,n(l,5,0,"tag",l.component.tagClass))},function(n,l){var t=l.component;n(l,2,0,t.caption),n(l,6,0,t.value)})}var c=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),d=a.La({encapsulation:2,styles:[],data:{}});function p(n){return a.fb(0,[(n()(),a.Na(0,0,null,null,3,"div",[["class","control"]],null,null,null,null,null)),(n()(),a.Na(1,0,null,null,2,"app-data-tag",[],null,null,null,o,s)),a.Ma(2,114688,null,0,r,[],{caption:[0,"caption"],value:[1,"value"],tagClass:[2,"tagClass"]},null),a.ab(3,2)],function(n,l){n(l,2,0,l.context.$implicit.caption,a.eb(l,2,1,n(l,3,0,a.Xa(l.parent,0),l.context.$implicit.value,"1.0-0")),l.context.$implicit.class)},null)}function g(n){return a.fb(0,[a.Za(0,i.e,[a.s]),(n()(),a.Na(1,0,null,null,2,"div",[["class","field is-grouped is-grouped-multiline"]],null,null,null,null,null)),(n()(),a.Ea(16777216,null,null,1,null,p)),a.Ma(3,278528,null,0,i.k,[a.M,a.J,a.q],{ngForOf:[0,"ngForOf"]},null),(n()(),a.Na(4,0,null,null,2,"progress",[],[[8,"value",0],[8,"max",0]],null,null,null,null)),a.Ma(5,278528,null,0,i.j,[a.q,a.r,a.k,a.B],{ngClass:[0,"ngClass"]},null),a.Ya(6,2),(n()(),a.Na(7,0,null,null,0,"br",[],null,null,null,null,null))],function(n,l){var t=l.component;n(l,3,0,t.indicator.tags),n(l,5,0,n(l,6,0,"progress",t.indicator.class))},function(n,l){var t=l.component;n(l,4,0,t.indicator.value,t.indicator.max)})}var h=function(){function n(){this.brakeDisabled=!1,this.throttleDisabled=!1,this.brake=new a.m,this.throttle=new a.m}return n.prototype.ngOnInit=function(){},n}(),f=a.La({encapsulation:2,styles:[],data:{}});function b(n){return a.fb(0,[(n()(),a.Na(0,0,null,null,6,"section",[["class","field is-grouped"]],null,null,null,null,null)),(n()(),a.Na(1,0,null,null,2,"span",[["class","control"]],null,null,null,null,null)),(n()(),a.Na(2,0,null,null,1,"button",[["class","button is-danger is-outlined is-large"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var a=!0;return"click"===l&&(a=!1!==n.component.brake.next()&&a),a},null,null)),(n()(),a.db(-1,null,["Brake"])),(n()(),a.Na(4,0,null,null,2,"span",[["class","control"]],null,null,null,null,null)),(n()(),a.Na(5,0,null,null,1,"button",[["class","button is-primary is-outlined is-large"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var a=!0;return"click"===l&&(a=!1!==n.component.throttle.next()&&a),a},null,null)),(n()(),a.db(-1,null,["Throttle"]))],null,function(n,l){var t=l.component;n(l,2,0,t.brakeDisabled),n(l,5,0,t.throttleDisabled)})}var v=t("gIcY"),m=function(){function n(){this.recharge=new a.m,this.rechargedDistance=0}return n.prototype.ngOnInit=function(){},n}(),y=a.La({encapsulation:2,styles:[],data:{}});function k(n){return a.fb(0,[(n()(),a.Na(0,0,null,null,17,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,l,t){var e=!0,u=n.component;return"submit"===l&&(e=!1!==a.Xa(n,2).onSubmit(t)&&e),"reset"===l&&(e=!1!==a.Xa(n,2).onReset()&&e),"ngSubmit"===l&&(e=!1!==u.recharge.next(u.rechargedDistance)&&e),e},null,null)),a.Ma(1,16384,null,0,v.m,[],null,null),a.Ma(2,4210688,null,0,v.i,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),a.bb(2048,null,v.b,null,[v.i]),a.Ma(4,16384,null,0,v.h,[[4,v.b]],null,null),(n()(),a.Na(5,0,null,null,12,"div",[],null,null,null,null,null)),(n()(),a.Na(6,0,null,null,11,"div",[["class","field has-addons"]],null,null,null,null,null)),(n()(),a.Na(7,0,null,null,7,"div",[["class","control"]],null,null,null,null,null)),(n()(),a.Na(8,0,null,null,6,"input",[["class","input"],["name","rechargedDistance"],["placeholder","Kilometers"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var e=!0,u=n.component;return"input"===l&&(e=!1!==a.Xa(n,9)._handleInput(t.target.value)&&e),"blur"===l&&(e=!1!==a.Xa(n,9).onTouched()&&e),"compositionstart"===l&&(e=!1!==a.Xa(n,9)._compositionStart()&&e),"compositionend"===l&&(e=!1!==a.Xa(n,9)._compositionEnd(t.target.value)&&e),"change"===l&&(e=!1!==a.Xa(n,10).onChange(t.target.value)&&e),"input"===l&&(e=!1!==a.Xa(n,10).onChange(t.target.value)&&e),"blur"===l&&(e=!1!==a.Xa(n,10).onTouched()&&e),"ngModelChange"===l&&(e=!1!==(u.rechargedDistance=t)&&e),e},null,null)),a.Ma(9,16384,null,0,v.c,[a.B,a.k,[2,v.a]],null,null),a.Ma(10,16384,null,0,v.l,[a.B,a.k],null,null),a.bb(1024,null,v.e,function(n,l){return[n,l]},[v.c,v.l]),a.Ma(12,671744,null,0,v.j,[[2,v.b],[8,null],[8,null],[6,v.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),a.bb(2048,null,v.f,null,[v.j]),a.Ma(14,16384,null,0,v.g,[[4,v.f]],null,null),(n()(),a.Na(15,0,null,null,2,"div",[["class","control"]],null,null,null,null,null)),(n()(),a.Na(16,0,null,null,1,"button",[["class","button is-primary"],["type","submit"]],null,null,null,null,null)),(n()(),a.db(-1,null,["Recharge"]))],function(n,l){n(l,12,0,"rechargedDistance",l.component.rechargedDistance)},function(n,l){n(l,0,0,a.Xa(l,4).ngClassUntouched,a.Xa(l,4).ngClassTouched,a.Xa(l,4).ngClassPristine,a.Xa(l,4).ngClassDirty,a.Xa(l,4).ngClassValid,a.Xa(l,4).ngClassInvalid,a.Xa(l,4).ngClassPending),n(l,8,0,a.Xa(l,14).ngClassUntouched,a.Xa(l,14).ngClassTouched,a.Xa(l,14).ngClassPristine,a.Xa(l,14).ngClassDirty,a.Xa(l,14).ngClassValid,a.Xa(l,14).ngClassInvalid,a.Xa(l,14).ngClassPending)})}var I=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),B=a.La({encapsulation:2,styles:[],data:{}});function S(n){return a.fb(0,[(n()(),a.Na(0,0,null,null,11,"article",[["class","card"]],null,null,null,null,null)),(n()(),a.Na(1,0,null,null,4,"header",[["class","card-header"]],null,null,null,null,null)),(n()(),a.Na(2,0,null,null,1,"span",[["class","card-header-title"]],null,null,null,null,null)),(n()(),a.db(3,null,[" "," "])),(n()(),a.Na(4,0,null,null,1,"span",[["class","card-header-icon"]],null,null,null,null,null)),(n()(),a.db(5,null,[" "," "])),(n()(),a.Na(6,0,null,null,2,"div",[["class","card-content"]],null,null,null,null,null)),(n()(),a.Na(7,0,null,null,1,"div",[["class","content"]],null,null,null,null,null)),a.Wa(null,0),(n()(),a.Na(9,0,null,null,2,"div",[["class","card-footer"]],null,null,null,null,null)),(n()(),a.Na(10,0,null,null,1,"div",[["class","card-footer-item"]],null,null,null,null,null)),a.Wa(null,1)],null,function(n,l){var t=l.component;n(l,3,0,t.caption),n(l,5,0,t.value)})}var C=t("AytR"),N=t("nsGb"),D=[{value:0,max:0,class:"is-info",tags:[{caption:"Speed",value:0,class:"is-info"},{caption:"Top",value:0,class:"is-danger"}]},{value:0,max:0,class:"is-success",tags:[{caption:"Traveled",value:0,class:"is-success"},{caption:"Remaining",value:0,class:"is-danger"}]}],M=function(){function n(){this.indicators=D,this.batteryIndicator=this.indicators[1],this.speedIndicator=this.indicators[0]}return n.prototype.initilizeIndicators=function(n){return this.speedIndicator.max=n.topSpeed,this.speedIndicator.tags[1].value=n.topSpeed,this.batteryIndicator.max=n.totalBattery,this.updateIndicators(n),this.indicators},n.prototype.updateIndicators=function(n){return this.speedIndicator.value=n.currentSpeed,this.speedIndicator.class=this.getSpeedClass(n),this.speedIndicator.tags[0].value=n.currentSpeed,this.batteryIndicator.value=n.remainingBattery,this.batteryIndicator.class=this.getBatteryClass(n),this.batteryIndicator.tags[0].value=n.distanceTraveled,this.batteryIndicator.tags[1].value=n.remainingBattery,this.indicators},n.prototype.getBatteryClass=function(n){return n.remainingBattery<=C.a.dangerKmsBattery?"is-danger":n.remainingBattery<=C.a.warningKmsBattery?"is-warning":"is-success"},n.prototype.getSpeedClass=function(n){var l=n.currentSpeed/n.topSpeed;return l>=C.a.dangerSpeedRate?"is-danger":l>=C.a.warningSpeedRate?"is-warning":"is-info"},n}(),X=function(){function n(){var n=this;this.oneHour=3600,this.hasBattery=function(n){return n.remainingBattery>0},this.isBrakeDisabled=function(n){return n.currentSpeed<=0},this.isThrottleDisabled=function(n){return n.currentSpeed>=n.topSpeed},this.rawDeltaSpeed=function(n){return n.topSpeed-n.currentSpeed+1},this.deltaSpeed=function(l){return n.rawDeltaSpeed(l)/C.a.factorSpeed}}return n.prototype.brake=function(n){n.currentSpeed-=this.deltaSpeed(n)},n.prototype.throttle=function(n){n.currentSpeed+=this.deltaSpeed(n)},n.prototype.recharge=function(n,l){l.remainingBattery=this.getValidatedRecharging(n,l)},n.prototype.checkBattery=function(n){n.remainingBattery<=n.currentSpeed?this.stopCar(n):this.travelDistance(n)},n.prototype.checkSpeed=function(n){n.currentSpeed<=1&&(n.currentSpeed=0)},n.prototype.stopCar=function(n){n.currentSpeed=0,n.distanceTraveled+=n.remainingBattery,n.remainingBattery=0},n.prototype.travelDistance=function(n){n.distanceTraveled+=n.currentSpeed/this.oneHour*C.a.timeTravel,n.remainingBattery-=n.currentSpeed/this.oneHour*C.a.timeTravel},n.prototype.getValidatedRecharging=function(n,l){var t=n;return!n||n<0?t=0:n>l.totalBattery&&(t=l.totalBattery),t},n}(),T=function(){function n(n,l,t,a){var e=this;this.route=n,this.cars=l,this.display=t,this.engine=a,this.onBrake=function(){return e.engine.brake(e.car)},this.onThrottle=function(){return e.engine.throttle(e.car)},this.onRecharge=function(n){return e.engine.recharge(n,e.car)},this.hasBattery=function(){return e.engine.hasBattery(e.car)},this.isBrakeDisabled=function(){return e.engine.isBrakeDisabled(e.car)},this.isThrottleDisabled=function(){return e.engine.isThrottleDisabled(e.car)},this.initilizeIndicators=function(){return e.indicators=e.display.initilizeIndicators(e.car)},this.updateIndicators=function(){return e.indicators=e.display.updateIndicators(e.car)},this.checkSpeed=function(){return e.engine.checkSpeed(e.car)},this.checkBattery=function(){return e.engine.checkBattery(e.car)}}return n.prototype.ngOnInit=function(){var n=this;this.car=this.cars.getCarByLinkId(this.route.snapshot.params.carId),this.initilizeIndicators(),this.timeGoesBy(),setInterval(function(){return n.timeGoesBy()},C.a.refreshInterval)},n.prototype.timeGoesBy=function(){this.checkSpeed(),this.checkBattery(),this.updateIndicators()},n}(),V=t("ZYCi"),w=a.La({encapsulation:2,styles:[],data:{}});function x(n){return a.fb(0,[(n()(),a.Na(0,0,null,null,1,"app-indicator",[],null,null,null,g,d)),a.Ma(1,114688,null,0,c,[],{indicator:[0,"indicator"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function R(n){return a.fb(0,[(n()(),a.Na(0,0,null,null,1,"app-speed-controls",[],null,[[null,"brake"],[null,"throttle"]],function(n,l,t){var a=!0,e=n.component;return"brake"===l&&(a=!1!==e.onBrake()&&a),"throttle"===l&&(a=!1!==e.onThrottle()&&a),a},b,f)),a.Ma(1,114688,null,0,h,[],{brakeDisabled:[0,"brakeDisabled"],throttleDisabled:[1,"throttleDisabled"]},{brake:"brake",throttle:"throttle"})],function(n,l){var t=l.component;n(l,1,0,t.isBrakeDisabled(),t.isThrottleDisabled())},null)}function O(n){return a.fb(0,[(n()(),a.Na(0,0,null,null,1,"app-battery-recharger",[],null,[[null,"recharge"]],function(n,l,t){var a=!0;return"recharge"===l&&(a=!1!==n.component.onRecharge(t)&&a),a},k,y)),a.Ma(1,114688,null,0,m,[],null,{recharge:"recharge"})],function(n,l){n(l,1,0)},null)}function J(n){return a.fb(0,[a.Za(0,i.q,[]),a.Za(0,i.c,[a.s]),(n()(),a.Na(2,0,null,null,11,"app-card",[],null,null,null,S,B)),a.Ma(3,114688,null,0,I,[],{caption:[0,"caption"],value:[1,"value"]},null),a.ab(4,1),a.ab(5,2),(n()(),a.Na(6,0,null,0,2,"main",[],null,null,null,null,null)),(n()(),a.Ea(16777216,null,null,1,null,x)),a.Ma(8,278528,null,0,i.k,[a.M,a.J,a.q],{ngForOf:[0,"ngForOf"]},null),(n()(),a.Na(9,0,null,1,4,"footer",[],null,null,null,null,null)),(n()(),a.Ea(16777216,null,null,1,null,R)),a.Ma(11,16384,null,0,i.l,[a.M,a.J],{ngIf:[0,"ngIf"]},null),(n()(),a.Ea(16777216,null,null,1,null,O)),a.Ma(13,16384,null,0,i.l,[a.M,a.J],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,3,0,a.eb(l,3,0,n(l,4,0,a.Xa(l,0),t.car.model)),a.eb(l,3,1,n(l,5,0,a.Xa(l,1),t.car.cost,"EUR"))),n(l,8,0,t.indicators),n(l,11,0,t.hasBattery()),n(l,13,0,!t.hasBattery())},null)}var L=a.Ja("app-car",T,function(n){return a.fb(0,[(n()(),a.Na(0,0,null,null,1,"app-car",[],null,null,null,J,w)),a.Ma(1,114688,null,0,T,[V.a,N.a,M,X],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),j=function(){},E=t("PCNd");t.d(l,"CarModuleNgFactory",function(){return q});var q=a.Ka(e,[],function(n){return a.Ua([a.Va(512,a.j,a.Z,[[8,[u.a,L]],[3,a.j],a.v]),a.Va(4608,i.n,i.m,[a.s,[2,i.v]]),a.Va(4608,v.n,v.n,[]),a.Va(4608,M,M,[]),a.Va(4608,X,X,[]),a.Va(1073742336,i.b,i.b,[]),a.Va(1073742336,V.m,V.m,[[2,V.s],[2,V.k]]),a.Va(1073742336,j,j,[]),a.Va(1073742336,v.k,v.k,[]),a.Va(1073742336,v.d,v.d,[]),a.Va(1073742336,E.a,E.a,[]),a.Va(1073742336,e,e,[]),a.Va(1024,V.i,function(){return[[{path:":carId",component:T}]]},[])])})}}]);