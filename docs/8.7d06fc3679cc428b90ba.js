(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{cAcB:function(l,n,u){"use strict";u.r(n);var s=u("CcnG"),o=function(){},t=u("pMnS"),r=u("gIcY"),e=u("Ip0R"),i=u("9W44"),a=u("SHZb"),c=u("AytR"),b=u("Ocbj"),d=function(){function l(){}return l.PasswordMustHaveNumbers=function(l){return/\d/.test(l.value)?null:{passwordMustHaveNumbers:"Password without numbers are not allowed"}},l.MatchPassword=function(l){if(l.get("password").value===l.get("confirmPassword").value)return null;l.get("confirmPassword").setErrors({matchPassword:!0})},l}(),g=u("Y9ZX"),p=function(){function l(l,n,u,s){var o=this;this.fb=l,this.http=n,this.formTools=u,this.globalStore=s,this.isNewAccount=!1,this.url=c.a.apiUrl+"pub/credentials/",this.onSuccess=function(l){o.globalStore.dispatchUserMessage("Wellcome"),o.globalStore.dispatchToken(l.token),o.globalStore.dispatchLoginNeeded(!1)},this.onError=function(l){o.isNewAccount?(o.globalStore.dispatchUserMessage("Account already exists"),o.form.reset()):o.globalStore.dispatchUserMessage("Invalid credentials"),o.globalStore.dispatchToken("")}}return l.prototype.ngOnInit=function(){this.onAccount()},l.prototype.onNoAccount=function(){this.form=this.fb.group({name:["",[r.l.required]],email:["",[r.l.required,r.l.email]],password:["",[r.l.required,r.l.minLength(4),d.PasswordMustHaveNumbers]],confirmPassword:["",[r.l.required,r.l.minLength(4)]]},{validator:d.MatchPassword}),this.isNewAccount=!0},l.prototype.onAccount=function(){this.form=this.fb.group({email:["",[r.l.required,r.l.email]],password:["",[r.l.required,r.l.minLength(4),d.PasswordMustHaveNumbers]]}),this.isNewAccount=!1},l.prototype.onLogin=function(){this.http.post(this.url+"login",this.form.value).subscribe(this.onSuccess,this.onError)},l.prototype.onRegister=function(){this.http.post(this.url+"registration",this.form.value).subscribe(this.onSuccess,this.onError)},l.prototype.getErrors=function(l){return this.formTools.getErrors(this.form,l)},l.prototype.mustShowError=function(l){return this.formTools.mustShowError(this.form,l)},l.prototype.hasError=function(l,n){return this.formTools.hasError(this.form,l,n)},l}(),m=u("t/Na"),f=s.qb({encapsulation:2,styles:[],data:{}});function h(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(l()(),s.Ib(-1,null,["We need a name"]))],null,null)}function C(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,11,"div",[["class","field"]],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,1,"label",[["class","label"],["for","name"]],null,null,null,null,null)),(l()(),s.Ib(-1,null,["Name"])),(l()(),s.sb(3,0,null,null,6,"div",[["class","control"]],null,null,null,null,null)),(l()(),s.sb(4,0,null,null,5,"input",[["class","input"],["formControlName","name"],["name","name"],["placeholder","Your name, please"],["type","text "]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var o=!0;return"input"===n&&(o=!1!==s.Cb(l,5)._handleInput(u.target.value)&&o),"blur"===n&&(o=!1!==s.Cb(l,5).onTouched()&&o),"compositionstart"===n&&(o=!1!==s.Cb(l,5)._compositionStart()&&o),"compositionend"===n&&(o=!1!==s.Cb(l,5)._compositionEnd(u.target.value)&&o),o},null,null)),s.rb(5,16384,null,0,r.c,[s.F,s.l,[2,r.a]],null,null),s.Gb(1024,null,r.g,function(l){return[l]},[r.c]),s.rb(7,671744,null,0,r.e,[[3,r.b],[8,null],[8,null],[6,r.g],[2,r.q]],{name:[0,"name"]},null),s.Gb(2048,null,r.h,null,[r.e]),s.rb(9,16384,null,0,r.i,[[4,r.h]],null,null),(l()(),s.jb(16777216,null,null,1,null,h)),s.rb(11,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,7,0,"name"),l(n,11,0,u.mustShowError("name"))},function(l,n){l(n,4,0,s.Cb(n,9).ngClassUntouched,s.Cb(n,9).ngClassTouched,s.Cb(n,9).ngClassPristine,s.Cb(n,9).ngClassDirty,s.Cb(n,9).ngClassValid,s.Cb(n,9).ngClassInvalid,s.Cb(n,9).ngClassPending)})}function w(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(l()(),s.Ib(-1,null,["We need a valid email"]))],null,null)}function v(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(l()(),s.Ib(-1,null,["We need a password"]))],null,null)}function I(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(l()(),s.Ib(1,null,["We need at least "," digits"]))],null,function(l,n){l(n,1,0,n.component.getErrors("password").minlength.requiredLength)})}function A(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(l()(),s.Ib(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.getErrors("password").passwordMustHaveNumbers)})}function y(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,6,"span",[],null,null,null,null,null)),(l()(),s.jb(16777216,null,null,1,null,v)),s.rb(2,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null),(l()(),s.jb(16777216,null,null,1,null,I)),s.rb(4,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null),(l()(),s.jb(16777216,null,null,1,null,A)),s.rb(6,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,u.hasError("password","required")),l(n,4,0,u.hasError("password","minlength")),l(n,6,0,u.hasError("password","passwordMustHaveNumbers"))},null)}function P(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(l()(),s.Ib(-1,null,["Passwords do not match"]))],null,null)}function N(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),s.jb(16777216,null,null,1,null,P)),s.rb(2,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.hasError("confirmPassword","matchPassword"))},null)}function E(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,11,"div",[["class","field"]],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,1,"label",[["class","label"],["for","confirmPassword"]],null,null,null,null,null)),(l()(),s.Ib(-1,null,["Confirm Password"])),(l()(),s.sb(3,0,null,null,6,"div",[["class","control"]],null,null,null,null,null)),(l()(),s.sb(4,0,null,null,5,"input",[["class","input"],["formControlName","confirmPassword"],["name","confirmPassword"],["placeholder","repeat password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var o=!0;return"input"===n&&(o=!1!==s.Cb(l,5)._handleInput(u.target.value)&&o),"blur"===n&&(o=!1!==s.Cb(l,5).onTouched()&&o),"compositionstart"===n&&(o=!1!==s.Cb(l,5)._compositionStart()&&o),"compositionend"===n&&(o=!1!==s.Cb(l,5)._compositionEnd(u.target.value)&&o),o},null,null)),s.rb(5,16384,null,0,r.c,[s.F,s.l,[2,r.a]],null,null),s.Gb(1024,null,r.g,function(l){return[l]},[r.c]),s.rb(7,671744,null,0,r.e,[[3,r.b],[8,null],[8,null],[6,r.g],[2,r.q]],{name:[0,"name"]},null),s.Gb(2048,null,r.h,null,[r.e]),s.rb(9,16384,null,0,r.i,[[4,r.h]],null,null),(l()(),s.jb(16777216,null,null,1,null,N)),s.rb(11,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,7,0,"confirmPassword"),l(n,11,0,u.mustShowError("confirmPassword"))},function(l,n){l(n,4,0,s.Cb(n,9).ngClassUntouched,s.Cb(n,9).ngClassTouched,s.Cb(n,9).ngClassPristine,s.Cb(n,9).ngClassDirty,s.Cb(n,9).ngClassValid,s.Cb(n,9).ngClassInvalid,s.Cb(n,9).ngClassPending)})}function S(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,2,"span",[["class","control"]],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,1,"button",[["class","button is-warning is-large"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var s=!0;return"click"===n&&(s=!1!==l.component.onLogin()&&s),s},null,null)),(l()(),s.Ib(-1,null,["Login"]))],null,function(l,n){l(n,1,0,n.component.form.invalid)})}function R(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,2,"span",[["class","control"]],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,1,"button",[["class","button is-info is-large"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var s=!0;return"click"===n&&(s=!1!==l.component.onRegister()&&s),s},null,null)),(l()(),s.Ib(-1,null,["Register"]))],null,function(l,n){l(n,1,0,n.component.form.invalid)})}function k(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,2,"span",[["class","control"]],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,1,"button",[["class","button is-outlined is-large"]],null,[[null,"click"]],function(l,n,u){var s=!0;return"click"===n&&(s=!1!==l.component.onNoAccount()&&s),s},null,null)),(l()(),s.Ib(-1,null,["I don\xb4t have an account yet."]))],null,null)}function j(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,2,"span",[["class","control"]],null,null,null,null,null)),(l()(),s.sb(1,0,null,null,1,"button",[["class","button is-outlined is-large"]],null,[[null,"click"]],function(l,n,u){var s=!0;return"click"===n&&(s=!1!==l.component.onAccount()&&s),s},null,null)),(l()(),s.Ib(-1,null,["I already have an account."]))],null,null)}function K(l){return s.Kb(2,[(l()(),s.sb(0,0,null,null,47,"app-card",[["caption","Access to autobot"]],null,null,null,i.b,i.a)),s.rb(1,114688,null,0,a.a,[],{caption:[0,"caption"]},null),(l()(),s.sb(2,0,null,0,35,"main",[],null,null,null,null,null)),(l()(),s.sb(3,0,null,null,34,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"submit"],[null,"reset"]],function(l,n,u){var o=!0,t=l.component;return"submit"===n&&(o=!1!==s.Cb(l,5).onSubmit(u)&&o),"reset"===n&&(o=!1!==s.Cb(l,5).onReset()&&o),"keyup.enter"===n&&(o=!1!==(t.isNewAccount?t.onRegister():t.onLogin())&&o),o},null,null)),s.rb(4,16384,null,0,r.o,[],null,null),s.rb(5,540672,null,0,r.f,[[8,null],[8,null]],{form:[0,"form"]},null),s.Gb(2048,null,r.b,null,[r.f]),s.rb(7,16384,null,0,r.j,[[4,r.b]],null,null),(l()(),s.sb(8,0,null,null,1,"legend",[],null,null,null,null,null)),(l()(),s.Ib(-1,null,[" Use your account or create a new one "])),(l()(),s.jb(16777216,null,null,1,null,C)),s.rb(11,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null),(l()(),s.sb(12,0,null,null,11,"div",[["class","field"]],null,null,null,null,null)),(l()(),s.sb(13,0,null,null,1,"label",[["class","label"],["for","email"]],null,null,null,null,null)),(l()(),s.Ib(-1,null,["Email"])),(l()(),s.sb(15,0,null,null,6,"div",[["class","control"]],null,null,null,null,null)),(l()(),s.sb(16,0,null,null,5,"input",[["class","input"],["formControlName","email"],["name","email"],["placeholder","Email address"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var o=!0;return"input"===n&&(o=!1!==s.Cb(l,17)._handleInput(u.target.value)&&o),"blur"===n&&(o=!1!==s.Cb(l,17).onTouched()&&o),"compositionstart"===n&&(o=!1!==s.Cb(l,17)._compositionStart()&&o),"compositionend"===n&&(o=!1!==s.Cb(l,17)._compositionEnd(u.target.value)&&o),o},null,null)),s.rb(17,16384,null,0,r.c,[s.F,s.l,[2,r.a]],null,null),s.Gb(1024,null,r.g,function(l){return[l]},[r.c]),s.rb(19,671744,null,0,r.e,[[3,r.b],[8,null],[8,null],[6,r.g],[2,r.q]],{name:[0,"name"]},null),s.Gb(2048,null,r.h,null,[r.e]),s.rb(21,16384,null,0,r.i,[[4,r.h]],null,null),(l()(),s.jb(16777216,null,null,1,null,w)),s.rb(23,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null),(l()(),s.sb(24,0,null,null,11,"div",[["class","field"]],null,null,null,null,null)),(l()(),s.sb(25,0,null,null,1,"label",[["class","label"],["for","password"]],null,null,null,null,null)),(l()(),s.Ib(-1,null,["Password"])),(l()(),s.sb(27,0,null,null,6,"div",[["class","control"]],null,null,null,null,null)),(l()(),s.sb(28,0,null,null,5,"input",[["class","input"],["formControlName","password"],["name","password"],["placeholder","4 digits password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var o=!0;return"input"===n&&(o=!1!==s.Cb(l,29)._handleInput(u.target.value)&&o),"blur"===n&&(o=!1!==s.Cb(l,29).onTouched()&&o),"compositionstart"===n&&(o=!1!==s.Cb(l,29)._compositionStart()&&o),"compositionend"===n&&(o=!1!==s.Cb(l,29)._compositionEnd(u.target.value)&&o),o},null,null)),s.rb(29,16384,null,0,r.c,[s.F,s.l,[2,r.a]],null,null),s.Gb(1024,null,r.g,function(l){return[l]},[r.c]),s.rb(31,671744,null,0,r.e,[[3,r.b],[8,null],[8,null],[6,r.g],[2,r.q]],{name:[0,"name"]},null),s.Gb(2048,null,r.h,null,[r.e]),s.rb(33,16384,null,0,r.i,[[4,r.h]],null,null),(l()(),s.jb(16777216,null,null,1,null,y)),s.rb(35,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null),(l()(),s.jb(16777216,null,null,1,null,E)),s.rb(37,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null),(l()(),s.sb(38,0,null,1,9,"footer",[],null,null,null,null,null)),(l()(),s.sb(39,0,null,null,8,"section",[["class","field is-grouped"]],null,null,null,null,null)),(l()(),s.jb(16777216,null,null,1,null,S)),s.rb(41,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null),(l()(),s.jb(16777216,null,null,1,null,R)),s.rb(43,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null),(l()(),s.jb(16777216,null,null,1,null,k)),s.rb(45,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null),(l()(),s.jb(16777216,null,null,1,null,j)),s.rb(47,16384,null,0,e.m,[s.R,s.O],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,1,0,"Access to autobot"),l(n,5,0,u.form),l(n,11,0,u.isNewAccount),l(n,19,0,"email"),l(n,23,0,u.mustShowError("email")),l(n,31,0,"password"),l(n,35,0,u.mustShowError("password")),l(n,37,0,u.isNewAccount),l(n,41,0,!u.isNewAccount),l(n,43,0,u.isNewAccount),l(n,45,0,!u.isNewAccount),l(n,47,0,u.isNewAccount)},function(l,n){l(n,3,0,s.Cb(n,7).ngClassUntouched,s.Cb(n,7).ngClassTouched,s.Cb(n,7).ngClassPristine,s.Cb(n,7).ngClassDirty,s.Cb(n,7).ngClassValid,s.Cb(n,7).ngClassInvalid,s.Cb(n,7).ngClassPending),l(n,16,0,s.Cb(n,21).ngClassUntouched,s.Cb(n,21).ngClassTouched,s.Cb(n,21).ngClassPristine,s.Cb(n,21).ngClassDirty,s.Cb(n,21).ngClassValid,s.Cb(n,21).ngClassInvalid,s.Cb(n,21).ngClassPending),l(n,28,0,s.Cb(n,33).ngClassUntouched,s.Cb(n,33).ngClassTouched,s.Cb(n,33).ngClassPristine,s.Cb(n,33).ngClassDirty,s.Cb(n,33).ngClassValid,s.Cb(n,33).ngClassInvalid,s.Cb(n,33).ngClassPending)})}var O=s.ob("app-access",p,function(l){return s.Kb(0,[(l()(),s.sb(0,0,null,null,1,"app-access",[],null,null,null,K,f)),s.rb(1,114688,null,0,p,[r.d,m.c,g.a,b.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),T=u("ZYCi"),q=function(){},M=u("PCNd");u.d(n,"AuthModuleNgFactory",function(){return _});var _=s.pb(o,[],function(l){return s.zb([s.Ab(512,s.k,s.eb,[[8,[t.a,O]],[3,s.k],s.z]),s.Ab(4608,e.o,e.n,[s.w,[2,e.x]]),s.Ab(4608,r.d,r.d,[]),s.Ab(4608,r.p,r.p,[]),s.Ab(4608,g.a,g.a,[]),s.Ab(1073742336,e.c,e.c,[]),s.Ab(1073742336,T.p,T.p,[[2,T.w],[2,T.n]]),s.Ab(1073742336,q,q,[]),s.Ab(1073742336,r.m,r.m,[]),s.Ab(1073742336,r.k,r.k,[]),s.Ab(1073742336,M.a,M.a,[]),s.Ab(1073742336,o,o,[]),s.Ab(1024,T.l,function(){return[[{path:"",component:p}]]},[])])})}}]);