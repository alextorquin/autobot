(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{cAcB:function(l,n,u){"use strict";u.r(n);var o=u("CcnG"),t=function(){return function(){}}(),s=u("pMnS"),e=u("gIcY"),r=u("Ip0R"),i=u("9W44"),a=u("SHZb"),c=u("AytR"),b=u("Ocbj"),d=function(){function l(){}return l.PasswordMustHaveNumbers=function(l){return/\d/.test(l.value)?null:{passwordMustHaveNumbers:"Password without numbers are not allowed"}},l.MatchPassword=function(l){if(l.get("password").value===l.get("confirmPassword").value)return null;l.get("confirmPassword").setErrors({matchPassword:!0})},l}(),g=u("Y9ZX"),p=function(){function l(l,n,u,o){var t=this;this.fb=l,this.http=n,this.formTools=u,this.globalStore=o,this.isNewAccount=!1,this.url=c.a.apiUrl+"pub/credentials/",this.onSuccess=function(l){t.globalStore.dispatchUserMessage("Wellcome"),t.globalStore.dispatchToken(l.token),t.globalStore.dispatchLoginNeeded(!1)},this.onError=function(l){t.isNewAccount?(t.globalStore.dispatchUserMessage("Account already exists"),t.form.reset()):t.globalStore.dispatchUserMessage("Invalid credentials"),t.globalStore.dispatchToken("")}}return l.prototype.ngOnInit=function(){this.onAccount()},l.prototype.ngOnDestroy=function(){this.globalStore.dispatchLoginNeeded(!1)},l.prototype.onNoAccount=function(){this.form=this.fb.group({name:["",[e.l.required]],email:["",[e.l.required,e.l.email]],password:["",[e.l.required,e.l.minLength(4),d.PasswordMustHaveNumbers]],confirmPassword:["",[e.l.required,e.l.minLength(4)]]},{validator:d.MatchPassword}),this.isNewAccount=!0},l.prototype.onAccount=function(){this.form=this.fb.group({email:["",[e.l.required,e.l.email]],password:["",[e.l.required,e.l.minLength(4),d.PasswordMustHaveNumbers]]}),this.isNewAccount=!1},l.prototype.onLogin=function(){this.http.post(this.url+"login",this.form.value).subscribe(this.onSuccess,this.onError)},l.prototype.onRegister=function(){this.http.post(this.url+"registration",this.form.value).subscribe(this.onSuccess,this.onError)},l.prototype.getErrors=function(l){return this.formTools.getErrors(this.form,l)},l.prototype.mustShowError=function(l){return this.formTools.mustShowError(this.form,l)},l.prototype.hasError=function(l,n){return this.formTools.hasError(this.form,l,n)},l}(),m=u("t/Na"),f=o.mb({encapsulation:2,styles:[],data:{}});function h(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),o.ob(1,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(l()(),o.Eb(-1,null,["We need a name"]))],null,null)}function y(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,11,"div",[["class","field"]],null,null,null,null,null)),(l()(),o.ob(1,0,null,null,1,"label",[["class","label"],["for","name"]],null,null,null,null,null)),(l()(),o.Eb(-1,null,["Name"])),(l()(),o.ob(3,0,null,null,6,"div",[["class","control"]],null,null,null,null,null)),(l()(),o.ob(4,0,null,null,5,"input",[["class","input"],["formControlName","name"],["name","name"],["placeholder","Your name, please"],["type","text "]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0;return"input"===n&&(t=!1!==o.yb(l,5)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==o.yb(l,5).onTouched()&&t),"compositionstart"===n&&(t=!1!==o.yb(l,5)._compositionStart()&&t),"compositionend"===n&&(t=!1!==o.yb(l,5)._compositionEnd(u.target.value)&&t),t},null,null)),o.nb(5,16384,null,0,e.c,[o.D,o.k,[2,e.a]],null,null),o.Cb(1024,null,e.g,function(l){return[l]},[e.c]),o.nb(7,671744,null,0,e.e,[[3,e.b],[8,null],[8,null],[6,e.g],[2,e.q]],{name:[0,"name"]},null),o.Cb(2048,null,e.h,null,[e.e]),o.nb(9,16384,null,0,e.i,[[4,e.h]],null,null),(l()(),o.gb(16777216,null,null,1,null,h)),o.nb(11,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,7,0,"name"),l(n,11,0,u.mustShowError("name"))},function(l,n){l(n,4,0,o.yb(n,9).ngClassUntouched,o.yb(n,9).ngClassTouched,o.yb(n,9).ngClassPristine,o.yb(n,9).ngClassDirty,o.yb(n,9).ngClassValid,o.yb(n,9).ngClassInvalid,o.yb(n,9).ngClassPending)})}function w(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),o.ob(1,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(l()(),o.Eb(-1,null,["We need a valid email"]))],null,null)}function v(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(l()(),o.Eb(-1,null,["We need a password"]))],null,null)}function C(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(l()(),o.Eb(1,null,["We need at least "," digits"]))],null,function(l,n){l(n,1,0,n.component.getErrors("password").minlength.requiredLength)})}function I(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(l()(),o.Eb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.getErrors("password").passwordMustHaveNumbers)})}function E(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,6,"span",[],null,null,null,null,null)),(l()(),o.gb(16777216,null,null,1,null,v)),o.nb(2,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,null,1,null,C)),o.nb(4,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,null,1,null,I)),o.nb(6,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,u.hasError("password","required")),l(n,4,0,u.hasError("password","minlength")),l(n,6,0,u.hasError("password","passwordMustHaveNumbers"))},null)}function P(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,1,"p",[["class","help is-danger"]],null,null,null,null,null)),(l()(),o.Eb(-1,null,["Passwords do not match"]))],null,null)}function N(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),o.gb(16777216,null,null,1,null,P)),o.nb(2,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.hasError("confirmPassword","matchPassword"))},null)}function L(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,11,"div",[["class","field"]],null,null,null,null,null)),(l()(),o.ob(1,0,null,null,1,"label",[["class","label"],["for","confirmPassword"]],null,null,null,null,null)),(l()(),o.Eb(-1,null,["Confirm Password"])),(l()(),o.ob(3,0,null,null,6,"div",[["class","control"]],null,null,null,null,null)),(l()(),o.ob(4,0,null,null,5,"input",[["class","input"],["formControlName","confirmPassword"],["name","confirmPassword"],["placeholder","repeat password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0;return"input"===n&&(t=!1!==o.yb(l,5)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==o.yb(l,5).onTouched()&&t),"compositionstart"===n&&(t=!1!==o.yb(l,5)._compositionStart()&&t),"compositionend"===n&&(t=!1!==o.yb(l,5)._compositionEnd(u.target.value)&&t),t},null,null)),o.nb(5,16384,null,0,e.c,[o.D,o.k,[2,e.a]],null,null),o.Cb(1024,null,e.g,function(l){return[l]},[e.c]),o.nb(7,671744,null,0,e.e,[[3,e.b],[8,null],[8,null],[6,e.g],[2,e.q]],{name:[0,"name"]},null),o.Cb(2048,null,e.h,null,[e.e]),o.nb(9,16384,null,0,e.i,[[4,e.h]],null,null),(l()(),o.gb(16777216,null,null,1,null,N)),o.nb(11,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,7,0,"confirmPassword"),l(n,11,0,u.mustShowError("confirmPassword"))},function(l,n){l(n,4,0,o.yb(n,9).ngClassUntouched,o.yb(n,9).ngClassTouched,o.yb(n,9).ngClassPristine,o.yb(n,9).ngClassDirty,o.yb(n,9).ngClassValid,o.yb(n,9).ngClassInvalid,o.yb(n,9).ngClassPending)})}function S(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,2,"span",[["class","control"]],null,null,null,null,null)),(l()(),o.ob(1,0,null,null,1,"button",[["class","button is-warning is-large"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.onLogin()&&o),o},null,null)),(l()(),o.Eb(-1,null,["Login"]))],null,function(l,n){l(n,1,0,n.component.form.invalid)})}function k(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,2,"span",[["class","control"]],null,null,null,null,null)),(l()(),o.ob(1,0,null,null,1,"button",[["class","button is-info is-large"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.onRegister()&&o),o},null,null)),(l()(),o.Eb(-1,null,["Register"]))],null,function(l,n){l(n,1,0,n.component.form.invalid)})}function A(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,2,"span",[["class","control"]],null,null,null,null,null)),(l()(),o.ob(1,0,null,null,1,"button",[["class","button is-outlined is-large"]],null,[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.onNoAccount()&&o),o},null,null)),(l()(),o.Eb(-1,null,["I don\xb4t have an account yet."]))],null,null)}function G(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,2,"span",[["class","control"]],null,null,null,null,null)),(l()(),o.ob(1,0,null,null,1,"button",[["class","button is-outlined is-large"]],null,[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.onAccount()&&o),o},null,null)),(l()(),o.Eb(-1,null,["I already have an account."]))],null,null)}function O(l){return o.Gb(2,[(l()(),o.ob(0,0,null,null,47,"app-card",[["caption","Access to autobot"]],null,null,null,i.b,i.a)),o.nb(1,114688,null,0,a.a,[],{caption:[0,"caption"]},null),(l()(),o.ob(2,0,null,0,35,"main",[],null,null,null,null,null)),(l()(),o.ob(3,0,null,null,34,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"submit"],[null,"reset"]],function(l,n,u){var t=!0,s=l.component;return"submit"===n&&(t=!1!==o.yb(l,5).onSubmit(u)&&t),"reset"===n&&(t=!1!==o.yb(l,5).onReset()&&t),"keyup.enter"===n&&(t=!1!==(s.isNewAccount?s.onRegister():s.onLogin())&&t),t},null,null)),o.nb(4,16384,null,0,e.o,[],null,null),o.nb(5,540672,null,0,e.f,[[8,null],[8,null]],{form:[0,"form"]},null),o.Cb(2048,null,e.b,null,[e.f]),o.nb(7,16384,null,0,e.j,[[4,e.b]],null,null),(l()(),o.ob(8,0,null,null,1,"legend",[],null,null,null,null,null)),(l()(),o.Eb(-1,null,[" Use your account or create a new one "])),(l()(),o.gb(16777216,null,null,1,null,y)),o.nb(11,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.ob(12,0,null,null,11,"div",[["class","field"]],null,null,null,null,null)),(l()(),o.ob(13,0,null,null,1,"label",[["class","label"],["for","email"]],null,null,null,null,null)),(l()(),o.Eb(-1,null,["Email"])),(l()(),o.ob(15,0,null,null,6,"div",[["class","control"]],null,null,null,null,null)),(l()(),o.ob(16,0,null,null,5,"input",[["class","input"],["formControlName","email"],["name","email"],["placeholder","Email address"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0;return"input"===n&&(t=!1!==o.yb(l,17)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==o.yb(l,17).onTouched()&&t),"compositionstart"===n&&(t=!1!==o.yb(l,17)._compositionStart()&&t),"compositionend"===n&&(t=!1!==o.yb(l,17)._compositionEnd(u.target.value)&&t),t},null,null)),o.nb(17,16384,null,0,e.c,[o.D,o.k,[2,e.a]],null,null),o.Cb(1024,null,e.g,function(l){return[l]},[e.c]),o.nb(19,671744,null,0,e.e,[[3,e.b],[8,null],[8,null],[6,e.g],[2,e.q]],{name:[0,"name"]},null),o.Cb(2048,null,e.h,null,[e.e]),o.nb(21,16384,null,0,e.i,[[4,e.h]],null,null),(l()(),o.gb(16777216,null,null,1,null,w)),o.nb(23,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.ob(24,0,null,null,11,"div",[["class","field"]],null,null,null,null,null)),(l()(),o.ob(25,0,null,null,1,"label",[["class","label"],["for","password"]],null,null,null,null,null)),(l()(),o.Eb(-1,null,["Password"])),(l()(),o.ob(27,0,null,null,6,"div",[["class","control"]],null,null,null,null,null)),(l()(),o.ob(28,0,null,null,5,"input",[["class","input"],["formControlName","password"],["name","password"],["placeholder","4 digits password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0;return"input"===n&&(t=!1!==o.yb(l,29)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==o.yb(l,29).onTouched()&&t),"compositionstart"===n&&(t=!1!==o.yb(l,29)._compositionStart()&&t),"compositionend"===n&&(t=!1!==o.yb(l,29)._compositionEnd(u.target.value)&&t),t},null,null)),o.nb(29,16384,null,0,e.c,[o.D,o.k,[2,e.a]],null,null),o.Cb(1024,null,e.g,function(l){return[l]},[e.c]),o.nb(31,671744,null,0,e.e,[[3,e.b],[8,null],[8,null],[6,e.g],[2,e.q]],{name:[0,"name"]},null),o.Cb(2048,null,e.h,null,[e.e]),o.nb(33,16384,null,0,e.i,[[4,e.h]],null,null),(l()(),o.gb(16777216,null,null,1,null,E)),o.nb(35,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,null,1,null,L)),o.nb(37,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.ob(38,0,null,1,9,"footer",[],null,null,null,null,null)),(l()(),o.ob(39,0,null,null,8,"section",[["class","field is-grouped"]],null,null,null,null,null)),(l()(),o.gb(16777216,null,null,1,null,S)),o.nb(41,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,null,1,null,k)),o.nb(43,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,null,1,null,A)),o.nb(45,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(l()(),o.gb(16777216,null,null,1,null,G)),o.nb(47,16384,null,0,r.m,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,1,0,"Access to autobot"),l(n,5,0,u.form),l(n,11,0,u.isNewAccount),l(n,19,0,"email"),l(n,23,0,u.mustShowError("email")),l(n,31,0,"password"),l(n,35,0,u.mustShowError("password")),l(n,37,0,u.isNewAccount),l(n,41,0,!u.isNewAccount),l(n,43,0,u.isNewAccount),l(n,45,0,!u.isNewAccount),l(n,47,0,u.isNewAccount)},function(l,n){l(n,3,0,o.yb(n,7).ngClassUntouched,o.yb(n,7).ngClassTouched,o.yb(n,7).ngClassPristine,o.yb(n,7).ngClassDirty,o.yb(n,7).ngClassValid,o.yb(n,7).ngClassInvalid,o.yb(n,7).ngClassPending),l(n,16,0,o.yb(n,21).ngClassUntouched,o.yb(n,21).ngClassTouched,o.yb(n,21).ngClassPristine,o.yb(n,21).ngClassDirty,o.yb(n,21).ngClassValid,o.yb(n,21).ngClassInvalid,o.yb(n,21).ngClassPending),l(n,28,0,o.yb(n,33).ngClassUntouched,o.yb(n,33).ngClassTouched,o.yb(n,33).ngClassPristine,o.yb(n,33).ngClassDirty,o.yb(n,33).ngClassValid,o.yb(n,33).ngClassInvalid,o.yb(n,33).ngClassPending)})}function T(l){return o.Gb(0,[(l()(),o.ob(0,0,null,null,1,"app-access",[],null,null,null,O,f)),o.nb(1,245760,null,0,p,[e.d,m.c,g.a,b.a],null,null)],function(l,n){l(n,1,0)},null)}var M=o.kb("app-access",p,T,{},{},[]),q=u("ZYCi"),_=function(){return function(){}}(),D=u("PCNd");u.d(n,"AuthModuleNgFactory",function(){return U});var U=o.lb(t,[],function(l){return o.vb([o.wb(512,o.j,o.bb,[[8,[s.a,M]],[3,o.j],o.x]),o.wb(4608,r.o,r.n,[o.u,[2,r.x]]),o.wb(4608,e.d,e.d,[]),o.wb(4608,e.p,e.p,[]),o.wb(4608,g.a,g.a,[]),o.wb(1073742336,r.c,r.c,[]),o.wb(1073742336,q.p,q.p,[[2,q.w],[2,q.n]]),o.wb(1073742336,_,_,[]),o.wb(1073742336,e.m,e.m,[]),o.wb(1073742336,e.k,e.k,[]),o.wb(1073742336,D.a,D.a,[]),o.wb(1073742336,t,t,[]),o.wb(1024,q.l,function(){return[[{path:"",component:p}]]},[])])})}}]);